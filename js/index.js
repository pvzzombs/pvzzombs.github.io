function loadContents(e){document.getElementById("loader").style.display="none",document.getElementById("loaderText").style.display="none";for(var t=JSON.parse(e),n=document.getElementById("contents-here"),d=0;d<t.pages.length;d++){var a=document.createElement("div"),s=document.createElement("a"),l=document.createElement("img"),o=document.createElement("p"),p=document.createElement("div");s.href=t.pages[d].link,l.src=t.pages[d].image,o.innerText=50<t.pages[d].text.length?t.pages[d].text.substr(0,50)+"...":t.pages[d].text,p.className="loader",p.id="loader"+d,l.onload=function(e){return function(){document.getElementById("loader"+e).style.display="none"}}(d),s.appendChild(p),s.appendChild(l),s.appendChild(o),a.appendChild(s),n.appendChild(a)}}function runAndDisplayContents(){xhttp.open("GET","./pages/contents.json"),xhttp.send()}var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){4==this.readyState&&(200==this.status?loadContents(this.responseText):(document.getElementById("loader").style.display="",document.getElementById("loaderText").style.display="",setTimeout(runAndDisplayContents,3e3)))},runAndDisplayContents();
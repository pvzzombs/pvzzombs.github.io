var running,program=[],pc=0,pointer=0,error=!1,speed=50,color="#7CFF89",status="idle",boxCount=30;function id(e){return document.getElementById(e)}function right(){var e;null==id("box"+(pointer+2))&&((e=document.createElement("div")).className="box",e.id="box"+(pointer+2),id("wrapper").appendChild(e),boxCount++),id("box"+(pointer+1)).style.background="white",id("box"+(pointer+2)).style.background=color}function left(){null==id("box"+pointer)?(id("output").value+="\nError : Overflow!!! Stopped at memory "+pointer+" on program id "+pc,error=!0):(id("box"+(pointer+1)).style.background="white",id("box"+pointer).style.background=color)}function parse(){status="ready",id("status").innerText=status,pc=pointer=0,error=!(program=[]),clearInterval(running);for(var e=1;e<=boxCount;e++)id("box"+e).innerText=0,id("box"+e).style.background="white";id("output").value="",id("box1").style.background="#7CFF89",program=bf(id("code").value)}function ok(){if("idle"===status)alert("Parse first!"),clearInterval(running);else if(error)clearInterval(running);else{var e=program[pc];if(e){var r="box"+(pointer+1);switch(pc+=1,e.cmd){case"+":case"-":id(r).innerText=e.mem,pointer=e.pnt;break;case">":if(right(),null==id("box"+(pointer+2)))return id("output").value+="\nError : Cannot Write!!! Stopped at memory "+pointer+" on program id "+pc,void(error=!0);id("box"+(pointer+2)).innerText=e.mem,pointer=e.pnt;break;case"<":if(left(),null==id("box"+pointer))return id("output").value+="\nError : Cannot Write!!! Stopped at memory "+pointer+" on program id "+pc,void(error=!0);id("box"+pointer).innerText=e.mem,pointer=e.pnt;break;case".":id("output").value+=e.code,id(r).innerText=e.mem,pointer=e.pnt;break;case",":id(r).innerText=e.mem,pointer=e.pnt;break;case"[":id(r).innerText=e.mem,pointer=e.pnt;case"]":id(r).innerText=e.mem,pointer=e.pnt}}else alert("Compiler Finished"),status="idle",id("status").innerText=status,program=[],pc=pointer=0,clearInterval(running)}}function run(){"idle"===status?alert("Parse first!"):"running"===status?alert("Already running"):(status="running",id("status").innerText=status,running=setInterval(ok,speed))}function pause(){"running"===status?(status="paused",id("status").innerText=status,clearInterval(running)):"paused"===status?alert("Already paused"):alert("Not yet running")}
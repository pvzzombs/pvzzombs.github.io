var tileMapSprite,playerSprite,player,worldLoader,collider,worldWidth=320,worldHeight=320,currentKey=" ",isMobile=!1;function toggleFullscreen(){console.log("Toggle fullscreen");var e=document.getElementById("canvas");document.fullscreenElement?(document.exitFullscreen().catch(function(e){console.log(e)}),fullScreenBtn.label=fullScreenBtnSprite):(e.requestFullscreen().catch(function(e){console.log(e)}),screen.orientation.lock("landscape"),fullScreenBtn.label=exitFullscreenSprite)}function preload(){tileMapSprite=new JSSpriteSheet("img/tilemap_packed.png"),playerSprite=new JSSpriteSheet("img/character.png"),tileMapSprite.loadP5Image(),playerSprite.loadP5Image()}function setup(){createCanvas(worldWidth,worldHeight).parent("canvas"),noSmooth(),randomSeed(100),collider=new Collider,worldLoader=new WorldLoader,player=new Player,worldLoader.setup()}function draw(){mainGame()}function mainGame(){if(clear(),background(128),player.vx=0,player.vy=0," "!==currentKey)switch(currentKey){case"w":player.vy=-2;break;case"a":player.vx=-2;break;case"s":player.vy=2;break;case"d":player.vx=2}collider.update(),player.update();var e=worldWidth/2-(player.x+player.width/2),r=worldHeight/2-(player.y+player.height/2);worldLoader.draw(e,r)}function mousePressed(){}function touchStarted(){}function touchEnded(){}function keyPressed(){switch(key){case"W":case"w":" "===currentKey&&(currentKey="w");break;case"A":case"a":" "===currentKey&&(currentKey="a");break;case"S":case"s":" "===currentKey&&(currentKey="s");break;case"D":case"d":" "===currentKey&&(currentKey="d")}}function keyReleased(){switch(key){case"W":case"w":"w"===currentKey&&(currentKey=" ");break;case"A":case"a":"a"===currentKey&&(currentKey=" ");break;case"S":case"s":"s"===currentKey&&(currentKey=" ");break;case"D":case"d":"d"===currentKey&&(currentKey=" ")}}(void 0!==window.ontouchstart||0<navigator.maxTouchPoints)&&(isMobile=!0),window.onload=function(){document.getElementById("full").onclick=toggleFullscreen},p5.disableFriendlyErrors=!0;
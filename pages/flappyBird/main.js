var playerSprite,pipesSprites,backgroundSprite,bird,pipes,lastTime,nowTime,dt,fpm,gravity=.3,flap=-6,speed=2,score=0,highScore=0,speedUp=0;function loadingSucess(){}function loadingError(e){Swal.fire({icon:"error",title:"Error",text:"An error occured while loading the image. Please refresh this page or try again later."})}function preload(){bird=new Bird,pipes=[new Pipe,new Pipe,new Pipe];for(var e=0,p=0;p<pipes.length;p++)pipes[p].x=e+350,e+=200;playerSprite=new JSAnimatedSprite("img/bird.png",4,5,16,16),pipesSprites=new JSSpriteSheet("img/pipes.png"),backgroundSprite=new JSSprite("img/background.png",0,0,256,256),playerSprite.loadP5Image(loadingSucess,loadingError),pipesSprites.loadP5Image(loadingSucess,loadingError),backgroundSprite.loadP5Image(loadingSucess,loadingError)}function setup(){createCanvas(300,400).parent("canvas"),noSmooth(),lastTime=(new Date).getTime()}function draw(){var e,p;fpm=frameRate()/1e3,nowTime=(new Date).getTime(),dt=nowTime-lastTime,dt*=fpm,lastTime=nowTime,clear(),backgroundSprite.drawP5Image(0,0,300,400),bird.draw(playerSprite),pipes[0].draw(pipesSprites),pipes[1].draw(pipesSprites),e=pipes[2].draw(pipesSprites),bird.update(dt),p=pipes[0].update(bird,dt),pipes[1].update(bird,dt),pipes[2].update(bird,dt),p&&(p=pipes[0],pipes[0]=pipes[1],pipes[1]=pipes[2],pipes[2]=p,pipes[2].x=e+200,pipes[2].height=Math.floor(151*Math.random()+50),pipes[2].scored=!1),10===speedUp&&(speedUp=0,speed+=.5),fill(0),textSize(15),text("Score : "+score,5,20),text("High score : "+highScore,5,35),text("Speed : "+speed,5,50)}function keyTyped(){return" "===key&&(bird.dy=flap),!1}function mousePressed(){return bird.dy=flap,!1}function touchStarted(){return bird.dy=flap,!1}function restartGame(){highScore=highScore<score?score:highScore,speed=2,speedUp=score=0,bird=new Bird,pipes=[new Pipe,new Pipe,new Pipe];for(var e=0,p=0;p<pipes.length;p++)pipes[p].x=e+350,e+=200}p5.disableFriendlyErrors=!0;
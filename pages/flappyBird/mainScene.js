function mainScene(){var i,n;this.setup=function(){i=new Bird,n=[new Pipe,new Pipe,new Pipe];for(var e=0,t=0;t<n.length;t++)n[t].x=e+350,e+=200;lastTime=(new Date).getTime()},this.draw=function(){var e;fpm=frameRate()/1e3,nowTime=(new Date).getTime(),dt=nowTime-lastTime,dt*=fpm,lastTime=nowTime,i.gameOver&&(highScore=highScore<score?score:highScore,score=0,speed=2,speedUp=0,this.setup()),clear(),backgroundSprite.drawP5Image(0,0,300,400),i.draw(playerSprite);for(var t=0;t<n.length-1;t++)n[t].draw(pipesSprites);e=n[n.length-1].draw(pipesSprites),i.update(dt,n);for(var r=n[0].update(dt,i,n),t=1;t<n.length;t++)n[t].update(dt,i,n);if(r){for(r=n[0],t=1;t<n.length;t++)n[t-1]=n[t];n[n.length-1]=r,n[n.length-1].x=e+200,n[n.length-1].height=Math.floor(151*Math.random()+50),n[n.length-1].scored=!1}10===speedUp&&(speedUp=0,speed+=.5),fill(0),textSize(15),text("Score : "+score,5,20),text("High score : "+highScore,5,35),text("Speed : "+speed,5,50),push(),textFont(mainFont),strokeWeight(6),stroke(0),fill(255),textSize(50);r=score.toString().padStart(2,"0");text(r,150-textWidth(r)/2,50),pop()},this.keyTyped=function(){if(!i.gameOver)return" "===key&&(i.dy=flap,sfx_wing.play()),!1},this.mousePressed=function(){if(!i.gameOver)return i.dy=flap,sfx_wing.play(),!1},this.touchStarted=function(){if(!i.gameOver)return i.dy=flap,sfx_wing.play(),!1}}
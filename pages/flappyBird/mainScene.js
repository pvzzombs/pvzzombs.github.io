function mainScene(){var p,a;this.setup=function(){p=new Bird,a=[new Pipe,new Pipe,new Pipe];for(var e=0,t=0;t<a.length;t++)a[t].x=e+350,e+=200;lastTime=(new Date).getTime()},this.draw=function(){var e,t;if(fpm=frameRate()/1e3,nowTime=(new Date).getTime(),dt=nowTime-lastTime,dt*=fpm,lastTime=nowTime,p.gameOver){highScore=highScore<score?score:highScore,score=0,speed=2,speedUp=0,p=new Bird,a=[new Pipe,new Pipe,new Pipe];for(var i=0,r=0;r<a.length;r++)a[r].x=i+350,i+=200}clear(),backgroundSprite.drawP5Image(0,0,300,400),p.draw(playerSprite),a[0].draw(pipesSprites),a[1].draw(pipesSprites),e=a[2].draw(pipesSprites),p.update(dt,a),t=a[0].update(p,dt,a),a[1].update(p,dt,a),a[2].update(p,dt,a),t&&(t=a[0],a[0]=a[1],a[1]=a[2],a[2]=t,a[2].x=e+200,a[2].height=Math.floor(151*Math.random()+50),a[2].scored=!1),10===speedUp&&(speedUp=0,speed+=.5),fill(0),textSize(15),text("Score : "+score,5,20),text("High score : "+highScore,5,35),text("Speed : "+speed,5,50)},this.keyTyped=function(){if(!p.gameOver)return" "===key&&(p.dy=flap,sfx_wing.play()),!1},this.mousePressed=function(){if(!p.gameOver)return p.dy=flap,sfx_wing.play(),!1},this.touchStarted=function(){if(!p.gameOver)return p.dy=flap,sfx_wing.play(),!1}}
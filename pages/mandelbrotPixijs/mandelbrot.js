!async function(){var l,d,m,o,c=400,s=400,W=!0,h=1,r=[8,5,1],i=15,D=new Array(r.length),u=new Array(r.length),g=new Array(r.length),f=new Array(r.length),a=!1,I=!1,e=document.getElementById("canvasWrapper");let v=new PIXI.Application({width:e.clientWidth,height:e.clientWidth});if(v.stage.interactive=!0,e.appendChild(v.view),c=e.clientWidth,s=c,I)for(d=new PIXI.Graphics,v.stage.addChild(d),o=0;o<r.length;o++)g[o]=new PIXI.Graphics,v.stage.addChild(g[o]);else for(m=new PIXI.ParticleContainer(c/i*(s/i)),v.stage.addChild(m),o=0;o<r.length;o++)f[o]=new PIXI.ParticleContainer(c/r[o]*(s/r[o])),v.stage.addChild(f[o]);var y,p,N,Y,H,t,B,E,w,b,C,x=!1,k=0,P=0,A=B,F=E,X=w,z=50,T=new Rainbow,R=(T.setSpectrum("#000764","#206bcb","#edffff","#ffaa00","#000200"),T.setNumberRange(0,z),["#000764","#206bcb","#edffff","#ffaa00","#000200"]);function q(e){var t=e[0].clientX-e[1].clientX,e=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+e*e)}function j(){document.getElementById("xa").value=E,document.getElementById("ya").value=w,document.getElementById("za").value=B,T.setNumberRange(0,z),S(),M(),n()}function M(){for(var e,t=0;t<D.length;t++)clearTimeout(D[t]);if(W)for(t=0;t<u.length;t++)clearInterval(u[t]);else for(t=0;t<u.length;t++)cancelAnimationFrame(u[t]);if(I)for(e=0;e<r.length;e++)g[e].clear();else{for(e=0;e<r.length;e++)v.stage.removeChild(f[e]),f[e].destroy({children:!0}),f[e]=new PIXI.ParticleContainer(c/r[e]*(s/r[e])),v.stage.addChild(f[e]);G()}}function n(){function e(e){return function(){var t,n,l,o,i,a;t=B,n=E,l=w,o=r[e],a=0,u[i=e]=W?setInterval(function(){a<c?(L(a,t,n,l,o,J,i),a+=o):clearInterval(u[i])}):requestAnimationFrame(function e(){a<c?(L(a,t,n,l,o,J,i),a+=o,u[i]=requestAnimationFrame(e)):cancelAnimationFrame(u[i])})}}O(B,E,w);for(var t=0;t<r.length;t++)D[t]=setTimeout(e(t))}function G(){for(v.stage.removeChild(m),o=0;o<r.length;o++)v.stage.removeChild(f[o]);for(v.stage.addChild(m),o=0;o<r.length;o++)v.stage.addChild(f[o])}function L(e,t,n,l,o,i,a){for(var c=0;c<s;c+=o){for(var r,u=n+e/t,d=l+h*(c/t),m=0,g=0,f=0;m*m+g*g<=4&&f<z;)r=m*m-g*g+u,g=2*m*g+d,m=r,f+=1;i(e,c,m,g,f,o,a)}}function O(e,t,n){var l;for(I?d.clear():(v.stage.removeChild(m),m.destroy({children:!0}),m=new PIXI.ParticleContainer(c/i*(s/i)),v.stage.addChild(m),G()),l=0;l<c;)L(l,e,t,n,i,J,null),l+=i}function V(e){if(e.startsWith("#"))return parseInt(e.substr(1,6),16);if(e.startsWith("rgb")){var t=0,n=2,l="";for(o=4;o<e.length;o++)"0"<=e[o]&&e[o]<="9"?l+=e[o]:(t+=parseInt(l)*256**n,l="",n-=1);return t}return 0}function J(e,t,n,l,o,i,a){var c,r=null,u=null;I?r=null===a?d:g[a]:u=null===a?m:f[a],"smoothColoring"===C?o<z?(a=Math.log(n*n+l*l)/2,o=o+1-Math.log(a/Math.log(2))/Math.log(2),I?(r.beginFill(K(o/z*(R.length-1))),r.drawRect(e,t,i,i),r.endFill()):((c=new PIXI.Sprite(PIXI.Texture.WHITE)).tint=V(K(o/z*(R.length-1))),c.width=i,c.height=i,c.position.set(e,t),u.addChild(c))):I?(r.beginFill("#000000"),r.drawRect(e,t,i,i),r.endFill()):((c=new PIXI.Sprite(PIXI.Texture.WHITE)).tint=0,c.width=i,c.height=i,c.position.set(e,t),u.addChild(c)):I?(r.beginFill(K(o)),r.drawRect(e,t,i,i),r.endFill()):((c=new PIXI.Sprite(PIXI.Texture.WHITE)).tint=V(K(o)),c.width=i,c.height=i,c.position.set(e,t),u.addChild(c))}function K(e){switch(C){case"escapeTime":return"#"+T.colourAt(e);case"smoothColoring":n=e,t=Q(R[Math.floor(n)]),i=Q(R[Math.floor(n)+1]);var t,n=n%1,l=Math.floor((i.r-t.r)*n+t.r),o=Math.floor((i.g-t.g)*n+t.g),i=Math.floor((i.b-t.b)*n+t.b);return"rgb("+l+","+o+","+i+")";default:return"#"+T.colourAt(e)}}function Q(e){return e=(e+"").replace("#",""),{r:parseInt(e.charAt(0)+e.charAt(1),16),g:parseInt(e.charAt(2)+e.charAt(3),16),b:parseInt(e.charAt(4)+e.charAt(5),16)}}function U(){a&&(t=.1,B=c/4,E=-2.5,w=-2*(h=1),b=1.1,z=50,T.setSpectrum("#000764","#206bcb","#edffff","#ffaa00","#000200"),T.setNumberRange(0,z),R=["#000764","#206bcb","#edffff","#ffaa00","#000200"],C="smoothColoring",document.getElementById(C).checked=!0,document.getElementById("flipImaginaryAxis").checked=!0,document.getElementById("xa").value=E,document.getElementById("ya").value=w,document.getElementById("za").value=B,S(),M(),n())}function Z(e){a&&(e=e?parseFloat(document.getElementById("xa").value)+t:parseFloat(document.getElementById("xa").value)-t,document.getElementById("xa").value=e,E=e,S(),M(),n())}function $(e){a&&(e=e?parseFloat(document.getElementById("ya").value)+t:parseFloat(document.getElementById("ya").value)-t,document.getElementById("ya").value=e,w=e,S(),M(),n())}function _(e){a&&(e=e.value,C=e,S(),M(),n())}function S(){var e="Scroll: "+t+"<br /> Current zoom: "+B+"<br /> left: "+E+"<br /> right: "+(E+c/B)+"<br /> top: "+w+"<br /> bottom: "+(w+h*(s/B))+"<br /> zoom factor: "+b+"<br /> max iterations of loop: "+z+"<br /> uses "+C+" algorithm for coloring";document.getElementById("dtls").innerHTML=e}v.view.onmousedown=function(e){e.preventDefault(),a&&(l=v.view.getBoundingClientRect(),x=!0,y=e.clientX-l.left,p=e.clientY-l.top,A=B,F=E,X=w,M())},v.view.onmousemove=function(e){e.preventDefault(),a&&x&&(l=v.view.getBoundingClientRect(),N=e.clientX-l.left,Y=e.clientY-l.top,O(A,F-(k=E+N/B-(E+y/B)),X-(P=w+h*(Y/B)-(w+h*(p/B)))))},v.view.onmouseup=function(e){e.preventDefault(),a&&(x=!1,E=F,w=X,w-=P,t=(E-=k)+2/(B=A)-(E-1/B),P=k=0,j())},v.view.onmouseleave=function(e){e.preventDefault(),a&&x&&(x=!1,E=F,w=X,w-=P,t=(E-=k)+2/(B=A)-(E-1/B),P=k=0,j())},v.view.onwheel=function(e){var t,n;M(),e.preventDefault(),a&&(e=e.deltaY,t=E+c/2/B,n=w+h*(s/2/B),0<e?B/=b:e<0&&(B*=b),O(B,E=t-c/2/B,w=n-h*(s/2/B)),j())},v.view.ontouchstart=function(e){var t;e.preventDefault(),a&&(l=v.view.getBoundingClientRect(),1===e.touches.length?(x=!0,t=e.touches[0],y=t.clientX-l.left,p=t.clientY-l.top):2===e.touches.length&&(H=q(e.touches)),A=B,F=E,X=w,M())},v.view.ontouchmove=function(e){if(e.preventDefault(),a){if(l=v.view.getBoundingClientRect(),2===e.touches.length){var t=q(e.touches),n=X+h*(s/2/A);F=F+c/2/A-c/2/(A*=t/H),X=n-h*(s/2/A)}else if(1===e.touches.length){if(!x)return;t=e.touches[0],n=(N=t.clientX-l.left,Y=t.clientY-l.top,E+y/B);k=E+N/B-n,P=w+h*(Y/B)-(w+h*(p/B))}O(A,F-k,X-P)}},v.view.ontouchend=function(e){e.preventDefault(),a&&(x=!1,E=F,w=X,w-=P,t=(E-=k)+2/(B=A)-(E-1/B),P=k=0,j())},new Worker("getOptimalPixel.js").onmessage=function(e){a=!0,i=e.data.pixelSize,U(),document.getElementById("loadingText").innerText=""},document.getElementById("timesTwo").onclick=function(){a&&(z*=2,S(),M(),n())},document.getElementById("divideTwo").onclick=function(){a&&(z/=2,S(),M(),n())},document.getElementById("bigPixel").onclick=function(){a&&Swal.fire({title:"Info",input:"text",text:"Change big pixel size",inputValue:20,inputPlaceholder:"20"}).then(function(e){e=parseInt(e.value);Number.isNaN(e)?Swal.fire({icon:"error",title:"Error",text:"Invalid number!"}):i=e})},document.getElementById("trigger1").onclick=function(){},document.getElementById("trigger2").onclick=U,document.getElementById("trigger3").onclick=function(){a&&(E=parseFloat(document.getElementById("xa").value),w=parseFloat(document.getElementById("ya").value),B=parseFloat(document.getElementById("za").value),S(),M(),n())},document.getElementById("trigger4").onclick=function(){c=v.view.width=parseInt(prompt("Please enter canvas width in pixels",200))||200,s=v.view.height=parseInt(prompt("Please enter canvas height in pixels",200))||200,U()},document.getElementById("trigger5").onclick=function(){Swal.fire({icon:"info",title:"About",text:"A mandelbrot set generator in javascript created by pvzzombs. "})},document.getElementById("flipImaginaryAxis").onclick=function(){a&&(h=1==h?-1:1,w*=-1,document.getElementById("ya").value=w,S(),M(),n())},document.getElementById("trigger6").onclick=function(){a&&(t=.1,B=c/4,E=-2.5,w=-2*h,document.getElementById("xa").value=E,document.getElementById("ya").value=w,document.getElementById("za").value=B,S(),M(),n())},document.getElementById("xp").onclick=function(){Z(1)},document.getElementById("xm").onclick=function(){Z(0)},document.getElementById("yp").onclick=function(){$(1)},document.getElementById("ym").onclick=function(){$(0)},document.getElementById("xz").onclick=function(){a&&(t=E+2/(B+=b)-(E-1/B),document.getElementById("za").value=B,S(),M(),n())},document.getElementById("yz").onclick=function(){a&&(t=E+2/(B-=b)-(E-1/B),document.getElementById("za").value=B,S(),M(),n())},document.getElementById("zfb").onclick=function(){var e;a&&(e=document.getElementById("zf").value,b=parseFloat(e),S())},document.getElementById("trigger7").onclick=function(){var e;a&&(e=document.getElementById("mi").value,z=parseInt(e),T.setNumberRange(0,z),S(),M(),n())},document.getElementById("lrg").onclick=function(){var e;a&&((e=document.getElementById("plt").value.split(" ")).length<3?alert(" Please enter more colors "):(T.setSpectrumByArray(e),S(),M(),n()))},document.getElementById("smoothColoring").onclick=function(){_(document.getElementById("smoothColoring"))},document.getElementById("escapeTime").onclick=function(){_(document.getElementById("escapeTime"))},document.getElementById("updt").onclick=function(){var e;a&&((e=document.getElementById("crd").value.split(" ")).length<4?alert(" Please enter complete details"):(E=parseFloat(e[0]),w=parseFloat(e[1]),B=parseFloat(e[2]),z=parseFloat(e[3]),b=1.5,t=E+2/B-(E-1/B),T.setNumberRange(0,z),document.getElementById("xa").value=E,document.getElementById("ya").value=w,document.getElementById("za").value=B,document.getElementById("mi").value=z,document.getElementById("zf").value=b,S(),M(),n()))}}();